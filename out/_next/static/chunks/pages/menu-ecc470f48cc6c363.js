(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{3150:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/menu",function(){return n(5910)}])},5910:function(e,t,n){"use strict";n.r(t),n.d(t,{defOrdre:function(){return g},default:function(){return N},findInfo:function(){return O}});var r=n(4051),i=n.n(r),o=n(5893),c=n(9008),s=n(7160),a=n.n(s),u=n(682),l=n.n(u),f=n(4083),d=n.n(f),p=n(5675),_=n.n(p),h=n(1664),m=n.n(h),y=n(9437),x=n(3758),b=n(1163),v=n(7294);function j(e,t,n,r,i,o,c){try{var s=e[o](c),a=s.value}catch(u){return void n(u)}s.done?t(a):Promise.resolve(a).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){j(o,r,i,c,s,"next",e)}function s(e){j(o,r,i,c,s,"throw",e)}c(void 0)}))}}function N(){var e=(0,v.useState)([]),t=e[0],n=e[1],r=(0,v.useState)([]),s=r[0],u=r[1],f=function(e){var t=e.src,n=e.width,r=e.quality;return"".concat(t,"?w=").concat(n,"&q=").concat(r||75)};function p(){return(p=w(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://sandbox.fleurdepapier.fr/bnf-bancsonores/","requestList.php?f=list"));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,n(r.slice(0,-1)),u(r.slice(-1)[0]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if("son"==(0,b.useRouter)().query.referer)var h={hidden:{opacity:0,x:-200,y:0},enter:{opacity:1,x:0,y:0},exit:{opacity:1,x:-200,y:0}},j="neg";else h={hidden:{opacity:0,x:200,y:0},enter:{opacity:1,x:0,y:0},exit:{opacity:1,x:-200,y:0}},j="pos";return(0,v.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),(0,o.jsxs)("div",{className:a().container,children:[(0,o.jsxs)(c.default,{children:[(0,o.jsx)("title",{children:"Les collections sonores"}),(0,o.jsx)("meta",{name:"description",content:"Liste des collections sonores"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)("main",{className:"".concat(a().main),children:[(0,o.jsxs)("div",{className:l().global,children:[(0,o.jsxs)("div",{className:d().global,children:[(0,o.jsxs)("div",{className:"".concat(d().subGlobal," ").concat(a().displayFlex),children:[(0,o.jsx)("div",{className:d().barre}),(0,o.jsx)(x.E.div,{initial:"hidden",animate:"enter",exit:"exit",variants:{hidden:{opacity:0,x:0,y:-100},enter:{opacity:1,x:0,y:0},exit:{opacity:1,x:0,y:0}},transition:{type:"linear"},className:d().title,children:"Collections sonores"})]}),(0,o.jsx)("div",{className:d().subTitle,children:"Choisissez un th\xe8me"})]}),(0,o.jsx)("div",{className:l().liste,children:t.map((function(e,t){return(0,o.jsx)(m(),{passHref:!0,href:"/sons/"+e.reference,children:(0,o.jsxs)(x.E.div,{initial:"hidden",animate:"enter",exit:"exit",variants:h,transition:{type:"linear",delay:g(t,j)},className:"".concat(l().subListe," ").concat(a().buttonScale),children:[(0,o.jsx)("div",{className:l().image,children:(0,o.jsx)(_(),{loading:"eager",loader:f,src:"https://sandbox.fleurdepapier.fr/bnf-bancsonores/images/"+e.img,width:400,height:400,alt:e.name})}),(0,o.jsx)("div",{className:l().filtreColor}),(0,o.jsx)("div",{className:l().filtreNoir}),(0,o.jsx)("div",{className:l().desc,children:e.name})]})},t)}))}),(0,o.jsx)("div",{className:l().credits,children:s.credits})]}),(0,o.jsx)(y.default,{})]}),(0,o.jsx)("footer",{className:a().footer})]})}function g(e,t){return e%2?.1*(e-1):.1*e}function O(){return P.apply(this,arguments)}function P(){return P=w(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",redirect:"follow"},e.next=3,fetch("http://localhost:8888/request.php?f=list",t).then((function(e){return e.text()})).then(function(){var e=w(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return""}));case 3:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}},9437:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893),i=n(7294);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var l=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,i,s=f(a);function a(){return o(this,a),s.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=180,t=setInterval((function(){e<=0&&(window.location.href="/waitPage.html",clearInterval(t)),e-=1}),1e3);window.timerCount=t}},{key:"componentWillUnmount",value:function(){clearInterval(window.timerCount)}},{key:"render",value:function(){return(0,r.jsx)("div",{children:this.props.children})}}])&&c(t.prototype,n),i&&c(t,i),a}(i.Component)},7160:function(e){e.exports={displayFlex:"Home_displayFlex__z8bj9",container:"Home_container__bCOhY",main:"Home_main__nLjiQ",button:"Home_button__Zs7A2",buttonScale:"Home_buttonScale__oI68V"}},682:function(e){e.exports={global:"menu_global__nC_Rn",liste:"menu_liste___S7gW",subListe:"menu_subListe__bmLd3",image:"menu_image__0wBj_",filtreColor:"menu_filtreColor__FrLAI",filtreNoir:"menu_filtreNoir__b6H7F",desc:"menu_desc__488Yf",credits:"menu_credits__fPJPV"}},4083:function(e){e.exports={global:"title_global__NF_N7",subGlobal:"title_subGlobal__GvEgL",barre:"title_barre__iGdf6",title:"title_title__jo1l_",subTitle:"title_subTitle__tNtkP"}}},function(e){e.O(0,[567,774,888,179],(function(){return t=3150,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
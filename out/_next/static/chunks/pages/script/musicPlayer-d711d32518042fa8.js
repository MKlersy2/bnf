(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{4694:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/script/musicPlayer",function(){return t(8900)}])},8900:function(e,r,t){"use strict";t.r(r),t.d(r,{actual:function(){return j},default:function(){return A},launchMusic:function(){return h},mouseDownProgress:function(){return b},mouseDownPuissance:function(){return S},mouseMoveProgress:function(){return B},mouseMovePuissance:function(){return q},mouseUpProgress:function(){return T},mouseUpPuissance:function(){return L},pos:function(){return w},pos2:function(){return E},retour:function(){return I},stopMusic:function(){return O},stopQuitMusic:function(){return M}});var n=t(5893),o=t(4225),a=t.n(o),s=t(7294);function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function c(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function l(e,r){return!r||"object"!==d(r)&&"function"!==typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function p(e,r){return p=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},p(e,r)}var d=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=i(e);if(r){var o=i(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return l(this,t)}}var f,v="",_="",m=!0,g=!0,P=[];function h(e,r){""!=v&&O("no");var t=document.querySelector("#bigPlayGlobal"+r+".".concat(a().playerLaunch)),n=document.querySelector("#pause"+r),o=document.querySelector("#play"+r);t.classList.add("toggle"),o.classList.add("toggle"),n.classList.remove("toggle");var s=new Audio(e);s.onloadeddata=function(){if(s.play(),P.includes(r)){if(""==document.querySelector("#player"+r+" > div > div > div > .".concat(a().playerProgressBar)).style.width)var e="0%";else e=document.querySelector("#player"+r+" > div > div > div > .".concat(a().playerProgressBar)).style.width;s.currentTime=parseInt(e.replace(/%/g,""))*s.duration/100}var t=document.querySelector("#player"+r+" > div > div > .".concat(a().totalTime));console.log(s.duration);var n=Math.floor(s.duration%60)<10?"0"+Math.floor(s.duration%60):Math.floor(s.duration%60),o=Math.floor(s.duration/60)<10?"0"+Math.floor(s.duration/60):Math.floor(s.duration/60);t.innerHTML=o+":"+n,v=s,_=r,j(),clearInterval(window.timerCount),P.push(r)};var u=document.querySelector("#player"+r+" > div > div > div > .".concat(a().playerProgressBar)),c=document.querySelector("#player"+r+" > div > div > div > .".concat(a().playerProgressButton)),i=document.querySelector("#player"+r+" > div > div > .".concat(a().progressPlayer));i.addEventListener("mouseup",T,!1),i.addEventListener("mousedown",b,!1),i.addEventListener("mousemove",B,!1),i.progressButton=c,i.progress=u,i.progressPlayer=i,i.index=r,s.addEventListener("ended",(function(){O()}))}function b(e){var r=e.currentTarget.progressButton,t=e.currentTarget.progress,n=e.currentTarget.progressPlayer;clearInterval(f),m=!1,w(e,r,t,n)}function B(e){var r=e.currentTarget.progressButton,t=e.currentTarget.progress,n=e.currentTarget.progressPlayer;m||w(e,r,t,n)}function T(e){var r=e.currentTarget.index;clearInterval(f),m=!0,v.currentTime=document.querySelector("#player"+r+" > div > div > div > .".concat(a().playerProgressBar)).style.width.replace(/%/g,"")*v.duration/100,j()}function w(e,r,t,n){var o=(e.pageX-t.getBoundingClientRect().left)/n.offsetWidth*100;r.style.left=o+"%",t.style.width=o+"%"}function S(e){var r=e.currentTarget.puissanceButton,t=e.currentTarget.puissance,n=e.currentTarget.puissancePlayer;g=!1,E(e,r,t,n)}function q(e){var r=e.currentTarget.puissanceButton,t=e.currentTarget.puissance,n=e.currentTarget.puissancePlayer;g||E(e,r,t,n)}function L(e){g=!0;var r=e.currentTarget.index;if(""!=v){var t=document.querySelector("#player"+r+" .".concat(a().playerPuissanceBar)).style.height.replace(/%/g,"")/100;v.volume=t<=0?0:t>=1?1:t}}function E(e,r,t,n){var o=(t.getBoundingClientRect().bottom-e.pageY)/n.offsetHeight*100;if(o<=100&&o>=0&&(r.style.bottom=o+"%",t.style.height=o+"%"),""!=v){var a=o/100;v.volume=a<=0?0:a>=1?1:a}}function M(){""!=v&&v.pause()}function O(e){if(""!==v){clearInterval(f);var r=document.querySelector("#player"+_+" > div > div > .".concat(a().playerLaunch)),t=document.querySelector("#pause"+_),n=document.querySelector("#play"+_),o=document.querySelector("#player"+_+" > div > div > .".concat(a().progressPlayer));o.removeEventListener("mousedown",B,!1),o.removeEventListener("mouseup",T,!1),o.removeEventListener("mousemove",b,!1),r.classList.remove("toggle"),n.classList.remove("toggle"),t.classList.add("toggle"),v.pause(),"no"!=e&&(_="",v="");var s=180,u=setInterval((function(){s<=0&&(window.location.href="/wait",clearInterval(u)),s-=1}),1e3);window.timerCount=u}}function I(e){if(e==_&&""!=v){v.currentTime=0;var r=document.querySelector("#player"+_+" > div > div > div > .".concat(a().playerProgressBar)),t=document.querySelector("#player"+_+" > div > div > div > .".concat(a().playerProgressButton));r.style.width="0%",t.style.left="0%"}}function j(){f=setInterval((function(){if(""===_)clearInterval(f);else{var e=document.querySelector("#player"+_+" > div > div > div > .".concat(a().playerProgressBar)),r=document.querySelector("#player"+_+" > div > div > div > .".concat(a().playerProgressButton));if(null!==e){var t=document.querySelector("#player"+_+" > div > div > .".concat(a().actualTime)),n=Math.floor(v.currentTime%60)<10?"0"+Math.floor(v.currentTime%60):Math.floor(v.currentTime%60),o=Math.floor(v.currentTime/60)<10?"0"+Math.floor(v.currentTime/60):Math.floor(v.currentTime/60);t.innerHTML=o+" : "+n,e.style.width=v.currentTime/v.duration*100+"%",r.style.left=v.currentTime/v.duration*100+"%"}else clearInterval(f)}}),1e3)}var A=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&p(e,r)}(i,e);var r,t,o,s=y(i);function i(){return u(this,i),s.apply(this,arguments)}return r=i,(t=[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".".concat(a().playerPuissanceBar)),r=document.querySelectorAll(".".concat(a().playerPuissanceButton)),t=document.querySelectorAll(".".concat(a().puissancePlayerBg));t.forEach((function(n,o){n.addEventListener("mouseup",L,!1),n.addEventListener("mousedown",S,!1),n.addEventListener("mousemove",q,!1),n.puissanceButton=r[o],n.puissance=e[o],n.puissancePlayer=t[o],n.index=o}));var n=document.querySelectorAll(".".concat(a().puissancePlayer)),o=document.querySelectorAll(".".concat(a().puissancePlayer," > .").concat(a().puissanceGlobal));n.forEach((function(e,r){e.addEventListener("click",(function(e){o[r].style.display="flex"}))})),document.querySelector("div:not(.".concat(a().puissancePlayer,")")).addEventListener("click",(function(e){document.querySelectorAll(".".concat(a().puissancePlayer)).forEach((function(r){r.contains(e.target)||(r.lastChild.style.display="none")}))}))}},{key:"render",value:function(){return(0,n.jsx)(n.Fragment,{})}}])&&c(r.prototype,t),o&&c(r,o),i}(s.Component)},4225:function(e){e.exports={global:"sons_global__frdjy",retour:"sons_retour__7f3Av",progressBar:"sons_progressBar__dBSDw",progress:"sons_progress__RCmWQ",subGlobal:"sons_subGlobal__meoyz",playerGlobal:"sons_playerGlobal__Y3fWH",playerButton:"sons_playerButton___h8jV",progressPlayer:"sons_progressPlayer__COKu7",playerProgressButton:"sons_playerProgressButton__CPz9S",playerProgressBar:"sons_playerProgressBar__srvtg",actionsPlayer:"sons_actionsPlayer__EUS2u",description:"sons_description__IZ14X",titre:"sons_titre__pPqm7",desc:"sons_desc__7uzlf",subDesc:"sons_subDesc__Jzhoj",cote:"sons_cote__F7VhV",prov:"sons_prov__HpKQQ",globalDisplay:"sons_globalDisplay__qsGuw",playerLaunch:"sons_playerLaunch__nM_ih",pausePlayer:"sons_pausePlayer___AE_f",playPlayer:"sons_playPlayer__WOisS",backPlayer:"sons_backPlayer__qLUOu",puissancePlayer:"sons_puissancePlayer__7f6mP",puissanceIcon:"sons_puissanceIcon__T6jLt",puissanceActive:"sons_puissanceActive__z2FYz",puissanceGlobal:"sons_puissanceGlobal__uGuw6",puissancePlayerBg:"sons_puissancePlayerBg__aGdIt",playerPuissanceButton:"sons_playerPuissanceButton__dAzeZ",playerPuissanceBar:"sons_playerPuissanceBar__crMLP",actualTime:"sons_actualTime__I4LD1",totalTime:"sons_totalTime__qF_1n"}}},function(e){e.O(0,[774,888,179],(function(){return r=4694,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
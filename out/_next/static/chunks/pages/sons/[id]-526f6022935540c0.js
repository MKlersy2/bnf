(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{1200:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sons/[id]",function(){return n(4428)}])},4617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(5893),o=n(7294),s=n(4225),i=n.n(s);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var d=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,o,s=p(l);function l(){return a(this,l),s.apply(this,arguments)}return t=l,(n=[{key:"componentDidMount",value:function(){var e=document.querySelector(".".concat(i().progress)),t=document.querySelector(".".concat(i().subGlobal));t.addEventListener("scroll",(function(t){var n=t.target.scrollLeft/(t.target.scrollWidth-1080)*100;e.style.left="".concat(n,"%")})),this.playerProgress=t}},{key:"componentWillUnmount",value:function(){this.playerProgress.removeEventListener("scroll",{})}},{key:"render",value:function(){return(0,r.jsx)("div",{children:this.props.children})}}])&&c(t.prototype,n),o&&c(t,o),l}(o.Component)},9437:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893),o=n(7294);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,o,a=f(c);function c(){return s(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){var e=180,t=setInterval((function(){e<=0&&(window.location.href="/waitPage.html",clearInterval(t)),e-=1}),1e3);window.timerCount=t}},{key:"componentWillUnmount",value:function(){clearInterval(window.timerCount)}},{key:"render",value:function(){return(0,r.jsx)("div",{children:this.props.children})}}])&&i(t.prototype,n),o&&i(t,o),c}(o.Component)},4428:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(4051),o=n.n(r),s=n(5893),i=n(9008),a=n(7160),c=n.n(a),l=n(4225),u=n.n(l),f=n(4083),d=n.n(f),p=n(7294);function h(){return(0,s.jsxs)("svg",{width:"24px",height:"42px",viewBox:"0 0 24 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{x1:"37.5%",y1:"100%",x2:"60.9609211%",y2:"-1.42405263%",id:"linearGradient-dh4297ybtw-1",children:[(0,s.jsx)("stop",{stopColor:"#43063F",offset:"0%"}),(0,s.jsx)("stop",{stopColor:"#4D7193",offset:"57.8129%"}),(0,s.jsx)("stop",{stopColor:"#6381D0",offset:"100%"})]})}),(0,s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,s.jsx)("g",{id:"Vector-79",transform:"translate(3.000000, 2.000000)",stroke:"url(#linearGradient-dh4297ybtw-1)",strokeWidth:"4",children:(0,s.jsx)("polyline",{id:"Path",points:"19 38 0 19 19 0"})})})]})}var x=n(1664),y=n.n(x),v=n(5675),j=n.n(v);function b(){return(0,s.jsxs)("svg",{width:"28px",height:"29px",viewBox:"0 0 28 29",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{x1:"6.70757175%",y1:"106.316487%",x2:"37.2062294%",y2:"-21.6107326%",id:"linearGradient-26fi89hyim-1",children:[(0,s.jsx)("stop",{stopColor:"#43063F",offset:"0%"}),(0,s.jsx)("stop",{stopColor:"#4D7193",offset:"57.8129%"}),(0,s.jsx)("stop",{stopColor:"#6381D0",offset:"100%"})]}),(0,s.jsxs)("linearGradient",{x1:"52.3374724%",y1:"0%",x2:"39.0562279%",y2:"57.4162069%",id:"linearGradient-26fi89hyim-2",children:[(0,s.jsx)("stop",{stopColor:"#43063F",offset:"0%"}),(0,s.jsx)("stop",{stopColor:"#4D7193",offset:"57.8129%"}),(0,s.jsx)("stop",{stopColor:"#6381D0",offset:"100%"})]})]}),(0,s.jsx)("g",{id:"Page-1",stroke:"none",strokwidth:"1",fill:"none",fillRule:"evenodd",children:(0,s.jsxs)("g",{id:"Group-2",fillRule:"nonzero",children:[(0,s.jsx)("g",{id:"Vector-60",transform:"translate(5.000000, 2.000000)",fill:"url(#linearGradient-26fi89hyim-1)",children:(0,s.jsx)("path",{d:"M22.1140639,2.00293491 L22.1140639,23.7150049 C22.1140639,25.2899049 20.3781639,26.2469049 19.0464639,25.4062049 L0.932385866,13.9712049 C-0.345584134,13.1644049 -0.301402134,11.2862049 1.01308387,10.5404049 L19.1271639,0.263402914 C20.4604639,-0.493033886 22.1140639,0.470018914 22.1140639,2.00293491 Z",id:"Path"})}),(0,s.jsx)("g",{id:"Rectangle-92",fill:"url(#linearGradient-26fi89hyim-2)",children:(0,s.jsx)("rect",{id:"Rectangle",x:"0",y:"0",width:"6.27027",height:"29",rx:"2"})})]})})]})}function m(){return(0,s.jsxs)("svg",{width:"40px",height:"28px",viewBox:"0 0 40 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{x1:"59.5703299%",y1:"0%",x2:"37.3107874%",y2:"96.2306308%",id:"linearGradient-k16nhkacuj-1",children:[(0,s.jsx)("stop",{stopColor:"#43063F",offset:"0%"}),(0,s.jsx)("stop",{stopColor:"#4D7193",offset:"57.8129%"}),(0,s.jsx)("stop",{stopColor:"#6381D0",offset:"100%"})]}),(0,s.jsxs)("linearGradient",{x1:"14.6442108%",y1:"-3.76838953%",x2:"44.8021366%",y2:"117.751864%",id:"linearGradient-k16nhkacuj-2",children:[(0,s.jsx)("stop",{stopColor:"#43063F",offset:"0%"}),(0,s.jsx)("stop",{stopColor:"#4D7193",offset:"57.8129%"}),(0,s.jsx)("stop",{stopColor:"#6381D0",offset:"100%"})]})]}),(0,s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,s.jsxs)("g",{id:"Group-93",children:[(0,s.jsx)("path",{d:"M29.783763,20.1435938 C32.527063,19.6956938 35.270263,17.3362938 35.270263,13.8732938 C35.270263,10.4102938 32.527063,8.05091385 29.783763,7.60303385",id:"Path",stroke:"url(#linearGradient-k16nhkacuj-1)",strokeWidth:"8",strokeLinecap:"round"}),(0,s.jsx)("path",{d:"M19.948763,0.160893846 L3.657193,7.07077385 C1.440023,8.01115385 0,10.1860938 0,12.5944938 L0,14.8337938 C0,17.2878938 1.494483,19.4945938 3.773303,20.4052938 L19.987463,26.8853938 C21.301163,27.4104938 22.729763,26.4428938 22.729763,25.0282938 L22.729763,13.4813938 L22.729763,2.00212385 C22.729763,0.569523846 21.267663,-0.398495154 19.948763,0.160893846 Z",id:"Path",fill:"url(#linearGradient-k16nhkacuj-2)",fillRule:"nonzero"})]})})]})}var w=n(4617),g=n(9437),_=n(3758),k=n(8900),N=n(1163);function C(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function i(e){C(s,r,o,i,a,"next",e)}function a(e){C(s,r,o,i,a,"throw",e)}i(void 0)}))}}function G(){var e=(0,N.useRouter)(),t=e.query.id,n=(0,p.useState)([]),r=n[0],a=n[1],l=(0,p.useState)([]),f=l[0],x=l[1];function v(){return(v=P(o().mark((function e(){var n,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch("".concat("https://sandbox.fleurdepapier.fr/bnf-bancsonores/","requestList.php?f=list"));case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,a(s[n].sons),x(s[n].name);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){var t=e.src,n=e.width,r=e.quality;return"".concat(t,"?w=").concat(n,"&q=").concat(r||75)},G=function(e){var t=e.src,n=e.width,r=e.quality;return"".concat("../").concat(t,"?w=").concat(n,"&q=").concat(r||75)};(0,p.useEffect)((function(){return e.isReady&&function(){v.apply(this,arguments)}(),e.events.on("routeChangeComplete",(function(){(0,k.stopQuitMusic)()})),function(){e.events.off("routeChangeComplete",(function(){}))}}),[e.isReady]);return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsxs)(i.default,{children:[(0,s.jsx)("title",{children:"Son dans la collection"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{className:c().main,children:[(0,s.jsxs)("div",{className:u().global,children:[(0,s.jsx)("div",{className:d().global,children:(0,s.jsxs)("div",{className:"".concat(d().subGlobal," ").concat(c().displayFlex),children:[(0,s.jsx)("div",{className:d().barre}),(0,s.jsx)(_.E.div,{initial:"hidden",animate:"enter",exit:"exit",variants:{hidden:{opacity:0,x:0,y:-100},enter:{opacity:1,x:0,y:0},exit:{opacity:1,x:0,y:100}},transition:{type:"linear"},className:d().title,children:f})]})}),(0,s.jsx)(_.E.div,{initial:"hidden",animate:"enter",exit:"exit",transition:{type:"linear"},variants:{hidden:{opacity:0,x:200,y:0},enter:{opacity:1,x:0,y:0},exit:{opacity:0,x:-200,y:0}},className:"".concat(u().subGlobal," ").concat(c().displayFlex),children:r.map((function(e,t){return(0,s.jsxs)("div",{id:"player"+t,className:"".concat(u().playerGlobal),children:[(0,s.jsxs)("div",{className:u().playerSubGlobal,children:[(0,s.jsxs)("div",{className:u().globalDisplay,children:[(0,s.jsx)("div",{id:"bigPlayGlobal"+t,className:"".concat(u().playerLaunch),onClick:function(){return(0,k.launchMusic)("https://sandbox.fleurdepapier.fr/bnf-bancsonores/"+e.url,t)},children:(0,s.jsx)("div",{id:"bigPlay"+t,className:"".concat(u().play),children:(0,s.jsx)(j(),{loader:G,width:67,height:80,src:"icon/bigplay.svg",alt:"Gros bouton play"})})}),(0,s.jsx)(j(),{loader:C,src:"https://sandbox.fleurdepapier.fr/bnf-bancsonores/"+e.img,width:700,height:700,alt:e.desc})]}),(0,s.jsxs)("div",{className:u().playerButton,children:[(0,s.jsxs)("div",{className:u().progressPlayer,children:[(0,s.jsx)("div",{className:u().playerProgressBar}),(0,s.jsx)("div",{className:u().playerProgressButton})]}),(0,s.jsx)("div",{className:u().actualTime}),(0,s.jsx)("div",{className:u().totalTime}),(0,s.jsxs)("div",{className:"".concat(u().actionsPlayer," ").concat(c().displayFlex),children:[(0,s.jsx)("div",{className:"".concat(u().backPlayer," ").concat(u().buttonEffect),onClick:function(){return(0,k.retour)(t)},children:(0,s.jsx)(b,{})}),(0,s.jsx)("div",{id:"play"+t,urlofson:"https://sandbox.fleurdepapier.fr/bnf-bancsonores/"+e.url,onLoad:function(){return(0,k.chargeMusic)("https://sandbox.fleurdepapier.fr/bnf-bancsonores/"+e.url,t)},onClick:function(){return(0,k.launchMusic)("https://sandbox.fleurdepapier.fr/bnf-bancsonores/"+e.url,t)},className:"".concat(u().playPlayer," ").concat(u().buttonEffect),children:(0,s.jsx)(j(),{loader:G,width:23,height:27,src:"icon/start.svg",alt:"Petit bouton play"})}),(0,s.jsx)("div",{id:"pause"+t,onClick:function(){return(0,k.stopMusic)()},className:"".concat(u().pausePlayer," ").concat(u().buttonEffect," toggle"),children:(0,s.jsx)(j(),{loader:G,width:23,height:27,src:"icon/pause.svg",alt:"Bouton pause"})}),(0,s.jsxs)("div",{onClick:function(){return(0,k.openSon)(t)},className:"".concat(u().puissancePlayer),children:[(0,s.jsx)("div",{className:"".concat(u().puissanceIcon," ").concat(u().buttonEffect),children:(0,s.jsx)(m,{})}),(0,s.jsx)("div",{className:u().puissanceGlobal,children:(0,s.jsxs)("div",{className:u().puissancePlayerBg,children:[(0,s.jsx)("div",{className:u().playerPuissanceBar}),(0,s.jsx)("div",{className:u().playerPuissanceButton})]})})]})]})]})]}),(0,s.jsxs)("div",{className:u().description,children:[(0,s.jsx)("div",{className:u().titre,children:e.name}),(0,s.jsx)("div",{className:u().desc,children:e.desc}),(0,s.jsx)("div",{className:u().subDesc,children:e.subDesc}),(0,s.jsx)("div",{className:u().cote,children:e.cote}),(0,s.jsxs)("div",{className:u().prov,children:["Prov. : ",e.provenance]})]})]},t)}))}),(0,s.jsx)(y(),{passHref:!0,href:"/menu?referer=son",children:(0,s.jsx)("div",{className:"".concat(u().retour," ").concat(c().displayFlex," ").concat(c().buttonScale),children:(0,s.jsx)(h,{})})}),(0,s.jsx)("div",{className:u().progressBar,children:(0,s.jsx)("div",{className:u().progress})})]}),(0,s.jsx)(k.default,{}),(0,s.jsx)(w.default,{}),(0,s.jsx)(g.default,{})]})]})}},7160:function(e){e.exports={displayFlex:"Home_displayFlex__z8bj9",container:"Home_container__bCOhY",main:"Home_main__nLjiQ",button:"Home_button__Zs7A2",buttonScale:"Home_buttonScale__oI68V"}},4083:function(e){e.exports={global:"title_global__NF_N7",subGlobal:"title_subGlobal__GvEgL",barre:"title_barre__iGdf6",title:"title_title__jo1l_",subTitle:"title_subTitle__tNtkP"}}},function(e){e.O(0,[567,900,774,888,179],(function(){return t=1200,e(e.s=t);var t}));var t=e.O();_N_E=t}]);